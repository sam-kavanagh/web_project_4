!function(){"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",inputTextError:"popup__input_has-error",inputVisibleError:"popup__text-error_visible",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled"};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var n,r;return n=e,(r=[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getCardInfo",value:function(){return Promise.all([this.getCardList(),this.getUserInfo()])}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.description;return fetch("".concat(this._baseUrl,"/users/me "),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,description:n})}).then(this._handleServerResponse)}},{key:"getCardList",value:function(e){var t=e.title,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({title:t,link:n})}).then(this._handleServerResponse)}},{key:"addCard",value:function(e){var t=e.title,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({title:t,link:n})}).then(this._handleServerResponse)}},{key:"setCardLikes",value:function(){return fetch("".concat(this._baseUrl,"/cards/likes/cardId"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"toggleCardLikeStatus",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:t?"PUT":"DELETE"}).then(this._handleServerResponse)}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar "),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then(this._handleServerResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._handleServerResponse)}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){this._items.forEach(this._renderer)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.data,o=t.userId,i=t.handleCardClick,a=(t.handleLikesButton,t.handleTrashButton);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=r.name,this._link=r.link,this._likes=r.likes,this._userId=o,this._cardId=cardId,this._ownerID=r.owner._id,this._handleCardClick=i,this._handleLikesButton=handleLikeButton,this._handleTrashButton=a,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__like-button").addEventListener("click",(function(t){e._handleLikesButton()})),this._element.querySelector(".element__trash-button").addEventListener("click",(function(t){e._handleTrashButton()})),this._element.querySelector(".element__image").addEventListener("click",(function(t){return e._handleCardClick({link:e._link,text:e._text})})),this.updateLikes()}},{key:"_handleLikes",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_full")}},{key:"_handleTrash",value:function(){this._element.remove(),this.element=null}},{key:"getView",value:function(){this._element=this._getTemplate(),this._setEventListeners();var e=this._element.querySelector(".element__image");return e.src=this._link,e.alt=this._text,this._element.querySelector(".element__title").textContent=this._text,this._element}},{key:"isLiked",value:function(){return!!this._likeButton.classList.contains(".element__like-button_full")}},{key:"updateLikes",value:function(){this._element.querySelector(".element__like-count").textContent=this._likes.length,this.isLiked()?this._element.querySelector(".element__like-button").classList.add(".element__like-button_full"):this._element.querySelector(".element__like-button").classList.remove(".element__like-button_full")}},{key:"setLikesInfo",value:function(e){this._likes=e.likes,this.updateLikes()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_open")||t.target.classList.contains("popup__close-button"))&&e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imageElement=t._popupElement.querySelector(".popup__preview-image"),t._imageCaption=t._popupElement.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){this._imageElement.src=e.link,this._imageCaption.textContent=e.text,this._imageElement.alt=e.text,p(y(a.prototype),"open",this).call(this)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function E(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupForm=t._popupElement.querySelector(".popup__form"),t._handleFormSubmit=r,t._inputList=t._popupElement.querySelectorAll(".popup__input"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()})),b(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),b(S(a.prototype),"close",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(u);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.userNameSelector,r=t.userDescriptionSelector,o=t.userAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(n),this._userDescriptionElement=document.querySelector(r),this._userAvatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameElement.textContent,description:this._userDescriptionElement.textContent,avatar:this._userAvatarElement.style.backgroundImage}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.description,r=e.avatar;t&&(this._userNameElement.textContent=data.Name),n&&(this._userDescriptionElement.textContent=data.Description),r&&(this._userAvatarElement.src=r)}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._inputTextError=t.inputTextError,this._inputVisibleError=t.inputVisibleError,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._formEl=n}var t,n;return t=e,(n=[{key:"_addInputError",value:function(e){e.classList.add(this._inputTextError)}},{key:"_removeInputError",value:function(e){e.classList.remove(this._inputTextError)}},{key:"_showMessageError",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._inputVisibleError)}},{key:"_hideMessageError",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));t.textContent=" ",t.classList.remove(this._inputVisibleError)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?(this._hideMessageError(e),this._removeInputError(e)):(this._showMessageError(e),this._addInputError(e))}},{key:"_toggleButton",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonEl.disabled=!0,this._buttonEl.classList.add(this._inactiveButtonClass)):(this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1)}},{key:"_setEventListeners",value:function(){var e,t=this;this._inputList=function(e){if(Array.isArray(e))return C(e)}(e=this._formEl.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonEl=this._formEl.querySelector(this._submitButtonSelector),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButton()}))})),this.resetValidation()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideMessageError(t),e._removeInputError(t)})),this._toggleButton()}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),T=(document.querySelector("#card-template"),document.querySelector(".elements"),document.querySelector("#name-input"),document.querySelector("#description-input"),document.querySelector(".profile__edit-button_type-avatar")),A=new n({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"816a5952-0b40-4365-b524-9e18859b6d37","Content-Type":"application/json"}});Promise.all([A.getUserInfo(),A.getCardList()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=o.name,s=o.description,u=o.avatar,l=o._id;userData.setUserInfo({name:a,description:s,_id:l,avatar:u}),renderInitialCards.renderItems(i)})).catch((function(e){return console.error("Error: ".concat(e))}));var R=new m("#popup-preview"),B=new o({items:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(e){B.addItem(function(e){return new a({data:{name:e.name||e.title,link:e.link},handleCardClick:function(e){R.open(e)}},"#card-template").getView()}(e))}},".elements"),U=new O({userNameSelector:"#edit-card-name",userDescriptionSelector:"#edit-card-description",userAvatarSelector:".profile__image"}),V=new w({popupSelector:"#edit-profile-popup",handleFormSubmit:function(e){U.setUserInfo(e)}}),D=new w({popupSelector:"#profile-avatar-popup",handleFormSubmit:function(e){renderLoading("#change-avatar-modal",!0),A.updateAvatar({avatar:e.avatar}).then((function(e){U.setUserInfo({avatar:e.avatar}),updateAvatarPopup.closeModal()})).catch((function(e){return console.log("Error changing user avatar: ".concat(res))})).finally((function(){renderLoading("#profile-avatar-popup")}))}});D.setEventListeners();var N=new w({popupSelector:"#add-card-popup",handleFormSubmit:function(e){renderLoading("#add-card-popup",!0),A.addCard(e).then((function(e){cardList.addItem(createCard(e)),N.close()})).catch((function(e){return"Error adding new card: ".concat(e)})).finally((function(e){e.err,renderLoading("#add-card-popup")}))}}),M=new I(e,document.querySelector("#edit-profile-form")),F=new I(e,document.querySelector("#new-card-form")),J=new I(e,document.querySelector("#profile-avatar-form"));q.addEventListener("click",(function(e){var t=U.getUserInfo();document.querySelector("#name-input").setAttribute("value",t.name),document.querySelector("#description-input").setAttribute("value",t.description),V.open(t)})),x.addEventListener("click",(function(e){N.open(),F.resetValidation()})),T.addEventListener("click",(function(e){D.open(),editAvatarValidator.resetValidation()})),B.renderItems(),R.setEventListeners(),V.setEventListeners(),N.setEventListeners(),M.enableValidation(),F.enableValidation(),J.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQXNCLElBQUlsRSxFQUM5QjdILEVBQ0EyQyxTQUFTQyxjQUFjLHlCQUt6QjRHLEVBQWtCaEYsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDM0MsSUFBTXVILEVBQWtCbkMsRUFBU3hJLGNBQ2pDc0IsU0FBU0MsY0FBYyxlQUFlcUosYUFBYSxRQUFTRCxFQUFlLE1BQzNFckosU0FBU0MsY0FBYyxzQkFBc0JxSixhQUFhLFFBQVNELEVBQWUsYUFFbEZsQixFQUFjSCxLQUFLcUIsTUFJckJ2QyxFQUFjakYsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDdkMrRyxFQUFhYixPQUVibUIsRUFBa0J2QyxxQkFJcEJHLEVBQW9CbEYsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDN0NzRyxFQUFtQkosT0FFbkJ1QixvQkFBb0IzQyxxQkFLdEJpQixFQUFZTixjQUNaSyxFQUFZZ0Isb0JBQ1pULEVBQWNTLG9CQUNkQyxFQUFhRCxvQkFDYk0sRUFBa0JNLG1CQUNsQkwsRUFBa0JLLG1CQUNsQkosRUFBb0JJLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgaW5wdXRUZXh0RXJyb3I6IFwicG9wdXBfX2lucHV0X2hhcy1lcnJvclwiLFxuICBpbnB1dFZpc2libGVFcnJvcjogXCJwb3B1cF9fdGV4dC1lcnJvcl92aXNpYmxlXCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXG59O1xuXG4vLyBleHBvcnQgY29uc3QgcmVuZGVyTG9hZGluZyA9ICIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbi8vYWRkICR7cmVzLnN0YXR1c30gdG8gaW5kZXggZmlsZSB0byBiZSBwaWNrZWQgdXBcbl9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgcmV0dXJuIHJlcy5vaz8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xufVxuXG5nZXRDYXJkSW5mbygpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldENhcmRMaXN0KCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xufVxuXG4gZ2V0VXNlckluZm8oKSB7XG4gICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gfVxuXG4gc2V0VXNlckluZm8oe25hbWUsIGRlc2NyaXB0aW9ufSkge1xuICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lIGAsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICBuYW1lLFxuICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICB9KSxcbiAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuIH1cblxuIGdldENhcmRMaXN0KHt0aXRsZSxsaW5rfSkge1xuICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgIHRpdGxlLFxuICAgICAgIGxpbmssXG4gICAgIH0pLFxuICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gfVxuXG4gYWRkQ2FyZCh7dGl0bGUsbGlua30pIHtcbiAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICB0aXRsZSxcbiAgICAgICBsaW5rLFxuICAgICB9KSxcbiAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuIH1cblxuIHNldENhcmRMaWtlcygpIHtcbiAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy9jYXJkSWRgLCB7XG4gICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gfVxuXG50b2dnbGVDYXJkTGlrZVN0YXR1cyhjYXJkSWQsIGxpa2UpIHtcbiAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICBtZXRob2Q6IGxpa2UgPyBcIlBVVFwiIDogXCJERUxFVEVcIixcbiAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuIH1cblxuXG5zZXRVc2VyQXZhdGFyKHthdmF0YXJ9KSB7XG4gICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhciBgLCB7XG4gICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgYXZhdGFyLFxuICAgICB9KSxcbiAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuIH1cblxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgbWV0aG9kOiBcIkRFTEVURVwiXG4gICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJzZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyc2VsZWN0b3IpO1xufVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiIsImltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuXG5jbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCB1c2VySWQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZXNCdXR0b24sIGhhbmRsZVRyYXNoQnV0dG9uIH0sIGNhcmRTZWxlY3Rvcikge1xuICAgIHRoaXMuX3RleHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcbiAgICB0aGlzLl9vd25lcklEID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VzQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVUcmFzaEJ1dHRvbiA9IGhhbmRsZVRyYXNoQnV0dG9uO1xuXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG5cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gIFx0Y29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7IFxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4geyBcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VzQnV0dG9uKCk7IFxuICAgIH0pOyBcblxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190cmFzaC1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHsgXG4gICAgICB0aGlzLl9oYW5kbGVUcmFzaEJ1dHRvbigpOyBcbiAgICB9KTsgXG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IFxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrICh7IFxuICAgICAgICBsaW5rOiB0aGlzLl9saW5rLCBcbiAgICAgICAgdGV4dDogdGhpcy5fdGV4dCwgXG4gICAgICAgIH0pIFxuICAgICk7IFxuXG4gICAgdGhpcy51cGRhdGVMaWtlcygpO1xuICB9IFxuXG4gIF9oYW5kbGVMaWtlcygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2Z1bGxcIik7XG4gIH1cbiAgXG4gIF9oYW5kbGVUcmFzaCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcbiAgICBjYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDsgXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICBpZiAodGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCIuZWxlbWVudF9fbGlrZS1idXR0b25fZnVsbFwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVMaWtlcygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1jb3VudFwiKS50ZXh0Q29udGVudCA9XG4gICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKVxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uX2Z1bGxcIik7XG4gICAgZWxzZSBcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcIi5lbGVtZW50X19saWtlLWJ1dHRvbl9mdWxsXCIpO1xuICB9XG5cbiAgIHNldExpa2VzSW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMudXBkYXRlTGlrZXMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH0gICAgXG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlblwiKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZS1idXR0b25cIikpXG4gICAgICAgIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3ByZXZpZXctaW1hZ2VcIik7XG4gICAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcbiAgICAgIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEudGV4dDtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gZGF0YS50ZXh0O1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioe3BvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXR9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuXG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9OyBcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCggXG4gICAgICAoaW5wdXQpID0+ICh0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpXG4gICAgKTsgXG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7IFxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTsgXG5cbiAgICAgIHRoaXMuY2xvc2UoKTsgXG4gICAgfSk7IFxuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfSBcblxuICBjbG9zZSgpIHsgXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7IFxuXG4gICAgc3VwZXIuY2xvc2UoKTsgXG5cbiAgfSBcbn0gXG5cbiBcblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCJjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckRlc2NyaXB0aW9uU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyRGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4geyBcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCwgXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCwgXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSxcbiAgICB9OyBcbiAgfSBcblxuICBzZXRVc2VySW5mbyh7bmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhcn0pIHsgXG4gICAgaWYgKG5hbWUpIHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEuTmFtZTsgXG4gICAgaWYgKGRlc2NyaXB0aW9uKSB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5EZXNjcmlwdGlvbjsgXG4gICAgaWYgKGF2YXRhcikgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuXG4vLyAgIHNldFVzZXJJbmZvKGRhdGEpIHsgXG4vLyAgICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5OYW1lOyBcbi8vICAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5EZXNjcmlwdGlvbjsgXG4vLyAgICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuLy8gICB9XG4vLyB9IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFRleHRFcnJvciA9IHNldHRpbmdzLmlucHV0VGV4dEVycm9yO1xuICAgIHRoaXMuX2lucHV0VmlzaWJsZUVycm9yID0gc2V0dGluZ3MuaW5wdXRWaXNpYmxlRXJyb3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcblxuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgfVxuXG4gIF9hZGRJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRUZXh0RXJyb3IpO1xuICB9XG5cbiAgX3JlbW92ZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dFRleHRFcnJvcik7XG4gIH1cblxuICBfc2hvd01lc3NhZ2VFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JEaXNwbGF5ID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JEaXNwbGF5LnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvckRpc3BsYXkuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dFZpc2libGVFcnJvcik7XG4gIH1cblxuICBfaGlkZU1lc3NhZ2VFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JEaXNwbGF5ID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JEaXNwbGF5LnRleHRDb250ZW50ID0gXCIgXCI7XG4gICAgZXJyb3JEaXNwbGF5LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRWaXNpYmxlRXJyb3IpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmIChpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlTWVzc2FnZUVycm9yKGlucHV0RWwpO1xuICAgICAgdGhpcy5fcmVtb3ZlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd01lc3NhZ2VFcnJvcihpbnB1dEVsKTtcbiAgICAgIHRoaXMuX2FkZElucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuXG4gICAgdGhpcy5fYnV0dG9uRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNldFZhbGlkYXRpb24oKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgdGhpcy5faGlkZU1lc3NhZ2VFcnJvcihpbnB1dEVsKTtcbiAgICAgIHRoaXMuX3JlbW92ZUlucHV0RXJyb3IoaW5wdXRFbCk7IFxuICB9KVxuIC8vIHRvZ2dsZSBidXR0b24gc3RhdGVcbiAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7IFxuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcblxuLy9pbXBvcnQgYWxsIGNsYXNzZXNcbmltcG9ydCB7aW5pdGlhbENhcmRzLCB2YWxpZGF0aW9uU2V0dGluZ3N9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhEZWxldGVDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNhcmRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcbmNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuY29uc3QgbmFtZUlucHV0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG5jb25zdCBkZXNjcmlwdGlvbklucHV0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uLWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25fdHlwZS1hdmF0YXJcIik7XG4vKmNyZWF0ZSBpbnN0YW5jZXMgb2YgdGhlIGNsYXNzZXMgKi9cblxuLy9BcGkgaW5zdGFuY2VcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODE2YTU5NTItMGI0MC00MzY1LWI1MjQtOWUxODg1OWI2ZDM3XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZExpc3QoKV0pXG4gIC50aGVuKChbdXNlckluZm8sIGluaXRpYWxDYXJkc10pID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIsIF9pZCB9ID0gdXNlckluZm87XG4gICAgdXNlckRhdGEuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgIF9pZDogX2lkLFxuICAgICAgYXZhdGFyOiBhdmF0YXIsXG4gICAgfSk7XG4gICAgcmVuZGVySW5pdGlhbENhcmRzLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJ9YCkpO1xuXG4vL1BvcHVwIHdpdGggZm9ybSBzdWJtaXQgaW5zdGFuY2VcblxuLy9Qb3B1cFdpdGhJbWFnZSBpbnN0YW5jZVxuY29uc3QgY2FyZFByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXAtcHJldmlld1wiKTtcblxuLy9DYXJkIGluc3RhbmNlXG5jb25zdCBjcmVhdGVOZXdDYXJkID0gKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhOiB7IG5hbWU6IGRhdGEubmFtZSB8fCBkYXRhLnRpdGxlLCBsaW5rOiBkYXRhLmxpbmsgfSxcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKGltZ0RhdGEpID0+IHtcbiAgICAgICAgY2FyZFByZXZpZXcub3BlbihpbWdEYXRhKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCJcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG4vL1NlY3Rpb24gaW5zdGFuY2VcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVOZXdDYXJkKGRhdGEpKTtcbiAgICB9LFxuICB9LFxuICBcIi5lbGVtZW50c1wiXG4pO1xuXG4vL1VzZXJJbmZvIGluc3RhbmNlXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IFwiI2VkaXQtY2FyZC1uYW1lXCIsXG4gIHVzZXJEZXNjcmlwdGlvblNlbGVjdG9yOiBcIiNlZGl0LWNhcmQtZGVzY3JpcHRpb25cIixcbiAgdXNlckF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbi8vUG9wdXBXaXRoRm9ybSBpbnN0YW5jZSBmb3IgZWRpdCBwcm9maWxlIHBvcHVwXG5jb25zdCB1c2VySW5mb1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LXByb2ZpbGUtcG9wdXBcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHsgICBcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgfSxcbn0pO1xuXG5jb25zdCBwcm9maWxlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gICAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZS1hdmF0YXItcG9wdXBcIixcbiAgICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoXCIjY2hhbmdlLWF2YXRhci1tb2RhbFwiLCB0cnVlKTtcbiAgICAgICAgYXBpXG4gICAgICAgIC51cGRhdGVBdmF0YXIoeyBhdmF0YXI6IGRhdGEuYXZhdGFyIH0pXG4gICAgICAgIC50aGVuKChpbmZvKSA9PiB7XG4gICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBhdmF0YXI6IGluZm8uYXZhdGFyIH0pO1xuICAgICAgICAgIHVwZGF0ZUF2YXRhclBvcHVwLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvciBjaGFuZ2luZyB1c2VyIGF2YXRhcjogJHtyZXN9YCkpXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICByZW5kZXJMb2FkaW5nKFwiI3Byb2ZpbGUtYXZhdGFyLXBvcHVwXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG59KTtcbnByb2ZpbGVBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL1BvcHVwV2l0aEZvcm0gaW5zdGFuY2UgbmV3IGNhcmQgcG9wdXBcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjYWRkLWNhcmQtcG9wdXBcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI2FkZC1jYXJkLXBvcHVwXCIsIHRydWUpO1xuXG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZChkYXRhKVxuICAgICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xuICAgICAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT5cbiAgICAgIChgRXJyb3IgYWRkaW5nIG5ldyBjYXJkOiAke2Vycn1gKVxuICAgICAgKVxuICAgICAgLmZpbmFsbHkgKCh7ZXJyfSkgPT4ge1xuICAgICAgICByZW5kZXJMb2FkaW5nKFwiI2FkZC1jYXJkLXBvcHVwXCIpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcbiAgICAvLyBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoZGF0YSkpOyBcblxuLy8vRm9ybVZhbGlkYXRvciBpbnN0YW5jZVxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1mb3JtXCIpXG4pO1xuXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtZm9ybVwiKVxuKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXItZm9ybVwiKVxuKTtcblxuLypldmVudCBsaXN0ZW5lcnMgZm9yIHBhZ2UqL1xuLy9lZGl0IHByb2ZpbGUgb3BlbiBwb3B1cCBcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVc2VyaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgY3VycmVudFVzZXJpbmZvWyduYW1lJ10pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uLWlucHV0XCIpLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBjdXJyZW50VXNlcmluZm9bJ2Rlc2NyaXB0aW9uJ10pO1xuXG4gIHVzZXJJbmZvUG9wdXAub3BlbihjdXJyZW50VXNlcmluZm8pO1xufSk7XG5cbi8vbmV3IGNhcmQgb3BlbiBwb3B1cCBcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcblxuICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vL2VkaXQgcHJvZmlsZSBpbWFnZSAgcG9wdXAgXG5wcm9maWxlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIHByb2ZpbGVBdmF0YXJQb3B1cC5vcGVuKCk7XG5cbiAgZWRpdEF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5cbi8vaW5pdGlhbGl6ZSBhbGwgbXkgaW5zdGFuY2VzXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuY2FyZFByZXZpZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnVzZXJJbmZvUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRUZXh0RXJyb3IiLCJpbnB1dFZpc2libGVFcnJvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWxsIiwiZ2V0Q2FyZExpc3QiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGl0bGUiLCJsaW5rIiwiY2FyZElkIiwibGlrZSIsImF2YXRhciIsIlNlY3Rpb24iLCJjb250YWluZXJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJwcmVwZW5kIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVUcmFzaEJ1dHRvbiIsImhhbmRsZUxpa2VzQnV0dG9uIiwiX3RleHQiLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiX3VzZXJJZCIsIl9jYXJkSWQiLCJfb3duZXJJRCIsIm93bmVyIiwiX2lkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlc0J1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlVHJhc2hCdXR0b24iLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInRleHQiLCJ1cGRhdGVMaWtlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImNhcmRJbWFnZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX2xpa2VCdXR0b24iLCJjb250YWlucyIsImxlbmd0aCIsImlzTGlrZWQiLCJhZGQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlRWxlbWVudCIsIl9pbWFnZUNhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJEZXNjcmlwdGlvblNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyRGVzY3JpcHRpb25FbGVtZW50IiwiX3VzZXJBdmF0YXJFbGVtZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJOYW1lIiwiRGVzY3JpcHRpb24iLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWwiLCJfaW5wdXRTZWxlY3RvciIsIl9pbnB1dFRleHRFcnJvciIsIl9pbnB1dFZpc2libGVFcnJvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2Zvcm1FbCIsImlucHV0RWwiLCJlcnJvckRpc3BsYXkiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZU1lc3NhZ2VFcnJvciIsIl9yZW1vdmVJbnB1dEVycm9yIiwiX3Nob3dNZXNzYWdlRXJyb3IiLCJfYWRkSW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWwiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsImluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJyZW5kZXJJbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2FyZFByZXZpZXciLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJpbWdEYXRhIiwib3BlbiIsImdldFZpZXciLCJjcmVhdGVOZXdDYXJkIiwidXNlckluZm9Qb3B1cCIsInByb2ZpbGVBdmF0YXJQb3B1cCIsInJlbmRlckxvYWRpbmciLCJ1cGRhdGVBdmF0YXIiLCJpbmZvIiwidXBkYXRlQXZhdGFyUG9wdXAiLCJjbG9zZU1vZGFsIiwibG9nIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwibmV3Q2FyZFBvcHVwIiwiYWRkQ2FyZCIsImNhcmREYXRhIiwiY2FyZExpc3QiLCJjcmVhdGVDYXJkIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJjdXJyZW50VXNlcmluZm8iLCJzZXRBdHRyaWJ1dGUiLCJlZGl0QXZhdGFyVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=