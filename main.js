!function(){"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",inputTextError:"popup__input_has-error",inputVisibleError:"popup__text-error_visible",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",cardSection:".elements"},t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelector(e).querySelector(".popup__submit-button");n.textContent=t?"Saving...":"Save"};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,r;return t=e,(r=[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getAppInfo",value:function(){return Promise.all([api.getUserInfo(),api.getInitialCardList()])}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"patchUserInfo",value:function(e){var t=e.name,n=e.description;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:n})}).then(this._handleServerResponse)}},{key:"getInitialCardList",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then(this._handleServerResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleServerResponse)}},{key:"removeLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar "),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then(this._handleServerResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._handleServerResponse)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){this._items.forEach(this._renderer)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.data,o=t.userId,i=t.handleCardClick,a=t.handleLikesClick,u=t.handleTrashClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=r.name,this._link=r.link,this._likes=r.likes,this._cardId=r._id,this._ownerId=r.ownerId,this._userId=o,this._handleCardClick=i,this._handleLikesClick=a,this._handleTrashClick=u,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_isLiked",value:function(){return this._likeButton.classList.contains("element__like-button_full")}},{key:"_setEventListeners",value:function(){var e=this;this._trashButton=this._element.querySelector(".element__trash-button"),this._ownerId===this._userId?this._trashButton.addEventListener("click",(function(){e._handleTrashClick()})):this._trashButton.remove(),this._likeButton=this._element.querySelector(".element__like-button"),this._likeButton.addEventListener("click",(function(){e._handleLikesClick()})),this._element.querySelector(".element__image").addEventListener("click",(function(){return e._handleCardClick({link:e._link,text:e._text})}))}},{key:"_handleLikesClick",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_full")}},{key:"_handleTrashClick",value:function(){this._element.remove(),this.element=null}},{key:"_updateLikeCount",value:function(e){this._likes=e.likes,this._updateLike()}},{key:"_hideTrashButton",value:function(){this._ownerId!=this._userId&&this._trashButton.remove()}},{key:"getView",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".element__image");return e.src=this._link,e.alt=this._text,this._element.querySelector(".element__title").textContent=this._text,this._likeCount=this._element.querySelector(".element__like-count"),this._setEventListeners(),this._updateLike(),this._hideTrashButton(),this._element}},{key:"_updateLike",value:function(){this._likeCount.textContent=this._likes.length,this._likes.length>0?this._likeButton.classList.add(".element__like-button_full"):this._likes.length,this._likeButton.classList.remove(".element__like-button_full")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_open")||t.target.classList.contains("popup__close-button"))&&e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function _(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imageElement=t._popupElement.querySelector(".popup__preview-image"),t._imageCaption=t._popupElement.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){this._imageElement.src=e.link,this._imageCaption.textContent=e.text,this._imageElement.alt=e.text,f(y(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupForm=t._popupElement.querySelector(".popup__form"),t._handleFormSubmit=r,t._inputList=t._popupElement.querySelectorAll(".popup__input"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),k(w(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),k(w(a.prototype),"close",this).call(this)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.userNameSelector,r=t.userDescriptionSelector,o=t.userAvatarSelector,i=t._id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=document.querySelector(n),this._userDescriptionElement=document.querySelector(r),this._userAvatarElement=document.querySelector(o),this._id=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameElement.textContent,about:this._userDescriptionElement.textContent.trim(),avatar:this._userAvatarElement.style.backgroundImage,_id:this._id}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;this._userNameElement.textContent=t,this._userDescriptionElement.textContent=n,this._userAvatarElement.src=r,this._id=o}},{key:"getUserId",value:function(){return this._id}},{key:"setAvatar",value:function(e){var t=e.avatar;this._userAvatarElement.src=t}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._inputTextError=t.inputTextError,this._inputVisibleError=t.inputVisibleError,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._formEl=n}var t,n;return t=e,(n=[{key:"_addInputError",value:function(e){e.classList.add(this._inputTextError)}},{key:"_removeInputError",value:function(e){e.classList.remove(this._inputTextError)}},{key:"_showMessageError",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._inputVisibleError)}},{key:"_hideMessageError",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));t.textContent=" ",t.classList.remove(this._inputVisibleError)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?(this._hideMessageError(e),this._removeInputError(e)):(this._showMessageError(e),this._addInputError(e))}},{key:"_toggleButton",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonEl.disabled=!0,this._buttonEl.classList.add(this._inactiveButtonClass)):(this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1)}},{key:"_setEventListeners",value:function(){var e,t=this;this._inputList=function(e){if(Array.isArray(e))return I(e)}(e=this._formEl.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonEl=this._formEl.querySelector(this._submitButtonSelector),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButton()}))})),this.resetValidation()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideMessageError(t),e._removeInputError(t)})),this._toggleButton()}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=document.querySelector(".profile__edit-button"),x=document.querySelector("#profile-avatar-button"),A=document.querySelector("#delete-submit-button"),B=document.querySelector(".profile__add-button"),R=new r({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"816a5952-0b40-4365-b524-9e18859b6d37","Content-Type":"application/json"}}),U=new O({userNameSelector:"#edit-card-name",userDescriptionSelector:"#edit-card-description",userAvatarSelector:".profile__image"}),V=new v("#popup-preview"),D=function(e){var t=new u({data:e,handleCardClick:function(e){V.open(e)},handleLikesClick:function(){t._isLiked()?R.removeLike(e._id).then((function(e){return t._updateLike(e)})).catch((function(e){return console.error("Error liking card: ".concat(e))})):R.addLike(e._id).then((function(e){return t._updateLike(e)})).catch((function(e){return console.error("Error liking card: ".concat(e))}))},handleTrashClick:function(){H.open(e._id)},userId:U.getUserId()},"#card-template");return t.getView()},F=new i({items:null,renderer:function(e){F.addItem(D(e))}},".elements");Promise.all([R.getUserInfo(),R.getInitialCardList()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];U.setUserInfo(o);var u=new i({items:a,renderer:function(e){u.addItem(D(e))}},".elements");u.renderItems(a)})).catch((function(e){return console.error("Error loading initial info: ".concat(e))}));var N=new L({popupSelector:"#edit-profile-popup",handleFormSubmit:function(e){t("#edit-profile-popup",!0),R.patchUserInfo(e).then((function(e){U.setUserInfo(e),N.close()})).catch((function(e){console.error("Error loading edit profile: ".concat(e))})).finally((function(){t("#edit-profile-popup")}))}}),M=new L({popupSelector:"#profile-avatar-popup",handleFormSubmit:function(e){t("#profile-avatar-popup",!0),R.setUserAvatar(e).then((function(e){U.setAvatar(e),M.close()})).finally((function(){t("#profile-avatar-popup")}))}}),J=new L({popupSelector:"#add-card-popup",handleFormSubmit:function(e){t("#add-card-popup",!0),R.addCard(e).then((function(e){F.addItem(D(e)),J.close()})).catch((function(e){console.error("Error loading new card: ".concat(e))})).finally((function(){t("#add-card-popup")}))}}),H=new L({popupSelector:"#delete-card-popup",handleFormSubmit:function(e,n){t("#delete-card-popup",!0),R.deleteCard(e).then((function(){n.remove(),H.close()})).catch((function(e){console.error("Error loading deleting card: ".concat(e))})).finally((function(){t("#delete-card-popup")}))}}),$=new P(e,document.querySelector("#edit-profile-form")),z=new P(e,document.querySelector("#new-card-form")),G=new P(e,document.querySelector("#profile-avatar-form"));q.addEventListener("click",(function(e){z.resetValidation(),N.open()})),B.addEventListener("click",(function(e){z.resetValidation(),J.open()})),x.addEventListener("click",(function(e){G.resetValidation(),M.open()})),A.addEventListener("click",(function(e){H.open()})),V.setEventListeners(),N.setEventListeners(),M.setEventListeners(),J.setEventListeners(),H.setEventListeners(),$.enableValidation(),z.enableValidation(),G.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFtQnBCLFVBSXJCUixFQUFpQjdFLGlCQUFpQixTQUFTLFNBQUNrQixHQUMxQzJFLEVBQWdCUixVQUlsQkosRUFBWW1DLG9CQUNaZixFQUFpQmUsb0JBQ2pCWCxFQUFtQlcsb0JBQ25CUCxFQUFhTyxvQkFDYnZCLEVBQWdCdUIsb0JBQ2hCSCxFQUFrQkksbUJBQ2xCSCxFQUFrQkcsbUJBQ2xCRixFQUFvQkUsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzgvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF84Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfOC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIGlucHV0VGV4dEVycm9yOiBcInBvcHVwX19pbnB1dF9oYXMtZXJyb3JcIixcbiAgaW5wdXRWaXNpYmxlRXJyb3I6IFwicG9wdXBfX3RleHQtZXJyb3JfdmlzaWJsZVwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBjYXJkU2VjdGlvbjogXCIuZWxlbWVudHNcIixcbiAgLy8gYXZhdGFyUG9wdXBTZWxlY3RvcjogXG59O1xuIiwiZXhwb3J0IGNvbnN0IHJlbmRlckxvYWRpbmcgPSAocG9wdXBTZWxlY3RvciwgaXNMb2FkaW5nID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBsb2FkaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnV0dG9uXCIpO1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgbG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIH0gZWxzZSB7XG4gICAgbG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICB9XG59OyIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG4gIFxuICBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XG4gIHJldHVybiByZXMub2s/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEFwcEluZm8oKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZExpc3QoKV0pO1xuICB9XG4gIFxuICBnZXRVc2VySW5mbygpIHtcbiAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuICBcbiAgcGF0Y2hVc2VySW5mbyh7bmFtZSwgZGVzY3JpcHRpb246IGFib3V0fSkge1xuICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgIG5hbWUsXG4gICAgICAgYWJvdXQsXG4gICAgIH0pLFxuICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cbiAgXG4gIGdldEluaXRpYWxDYXJkTGlzdCgpIHtcbiAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuICBcbiAgYWRkQ2FyZCh7bmFtZSwgbGlua30pIHtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoe2F2YXRhcn0pIHtcbiAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyIGAsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgIH1cblxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgbWV0aG9kOiBcIkRFTEVURVwiXG4gICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGk7XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcnNlbGVjdG9yKTtcbn1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCJpbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgdXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VzQ2xpY2ssIGhhbmRsZVRyYXNoQ2xpY2sgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdGV4dCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lcklkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZXNDbGljayA9IGhhbmRsZUxpa2VzQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlVHJhc2hDbGljayA9IGhhbmRsZVRyYXNoQ2xpY2s7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgXHRjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9pc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2Z1bGxcIik7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7IFxuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RyYXNoLWJ1dHRvblwiKTtcbiAgICBpZiAodGhpcy5fb3duZXJJZCA9PT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVUcmFzaENsaWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIilcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IFxuICAgICAgdGhpcy5faGFuZGxlTGlrZXNDbGljaygpOyBcbiAgICB9KTsgXG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IFxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrICh7IFxuICAgICAgICBsaW5rOiB0aGlzLl9saW5rLCBcbiAgICAgICAgdGV4dDogdGhpcy5fdGV4dCwgXG4gICAgICAgIH0pIFxuICAgICk7IFxuICB9IFxuICBcbiAgX2hhbmRsZUxpa2VzQ2xpY2soKSB7IFxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZS1idXR0b25fZnVsbFwiKTsgXG4gIH0gXG5cbiAgX2hhbmRsZVRyYXNoQ2xpY2soKSB7IFxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7IFxuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfdXBkYXRlTGlrZUNvdW50KGRhdGEpIHtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fdXBkYXRlTGlrZSgpO1xuICB9XG5cbiAgX2hpZGVUcmFzaEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgXG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgPSB0aGlzLl90ZXh0OyBcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xuXG4gICAgdGhpcy5fbGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl91cGRhdGVMaWtlKCk7XG4gICAgdGhpcy5faGlkZVRyYXNoQnV0dG9uKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF91cGRhdGVMaWtlKCkge1xuICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLl9saWtlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCIuZWxlbWVudF9fbGlrZS1idXR0b25fZnVsbFwiKTtcbiAgICB9IGVsc2UgKHRoaXMuX2xpa2VzLmxlbmd0aCA9PT0gMCkgXG4gICAge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uX2Z1bGxcIik7XG4gICAgfVxuICB9XG4gIC8vICAgX2hhbmRsZUxpa2VzKCkge1xuICAvLyAgIHRoaXMuX2xpa2VCdXR0b24ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uX2Z1bGxcIik7XG4gIC8vIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9ICAgIFxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5cIikgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2UtYnV0dG9uXCIpKVxuICAgICAgICB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19wcmV2aWV3LWltYWdlXCIpO1xuICAgICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG4gICAgICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLnRleHQ7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEudGV4dDtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0fSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIFxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307IFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHsgXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4geyBcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyBcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7IFxuICAgIH0pOyBcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9IFxuXG4gIGNsb3NlKCkgeyBcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTsgXG5cbiAgICBzdXBlci5jbG9zZSgpOyBcblxuICB9IFxufSBcblxuIFxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtOyIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VyRGVzY3JpcHRpb25TZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yLCBfaWR9KSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyRGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXJTZWxlY3Rvcik7XG4gICAgdGhpcy5faWQgPSBfaWQ7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4geyBcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCwgXG4gICAgICBhYm91dDogdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudC50cmltKCksXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSxcbiAgICAgIF9pZDogdGhpcy5faWQsXG4gICAgfTsgXG4gIH0gXG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSkgeyBcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lOyAgXG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0OyBcbiAgICB0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5zcmMgPSBhdmF0YXI7XG4gICAgdGhpcy5faWQgPSBfaWQ7XG4gIH1cbiAgXG4gIGdldFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBzZXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0VGV4dEVycm9yID0gc2V0dGluZ3MuaW5wdXRUZXh0RXJyb3I7XG4gICAgdGhpcy5faW5wdXRWaXNpYmxlRXJyb3IgPSBzZXR0aW5ncy5pbnB1dFZpc2libGVFcnJvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsO1xuICB9XG5cbiAgX2FkZElucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dFRleHRFcnJvcik7XG4gIH1cblxuICBfcmVtb3ZlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0VGV4dEVycm9yKTtcbiAgfVxuXG4gIF9zaG93TWVzc2FnZUVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvckRpc3BsYXkgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckRpc3BsYXkudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRGlzcGxheS5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0VmlzaWJsZUVycm9yKTtcbiAgfVxuXG4gIF9oaWRlTWVzc2FnZUVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvckRpc3BsYXkgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvckRpc3BsYXkudGV4dENvbnRlbnQgPSBcIiBcIjtcbiAgICBlcnJvckRpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dFZpc2libGVFcnJvcik7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKGlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVNZXNzYWdlRXJyb3IoaW5wdXRFbCk7XG4gICAgICB0aGlzLl9yZW1vdmVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93TWVzc2FnZUVycm9yKGlucHV0RWwpO1xuICAgICAgdGhpcy5fYWRkSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG5cbiAgICB0aGlzLl9idXR0b25FbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLnJlc2V0VmFsaWRhdGlvbigpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlTWVzc2FnZUVycm9yKGlucHV0RWwpO1xuICAgICAgdGhpcy5fcmVtb3ZlSW5wdXRFcnJvcihpbnB1dEVsKTsgXG4gIH0pXG4gLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxuICB0aGlzLl90b2dnbGVCdXR0b24oKTsgXG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG4vL2ltcG9ydCBhbGwgY2xhc3Nlc1xuaW1wb3J0IHsgaW5pdGlhbENhcmRzLCB2YWxpZGF0aW9uU2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyByZW5kZXJMb2FkaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZUNvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbi8vQnV0dG9uc1xuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXItYnV0dG9uXCIpO1xuY29uc3QgZGVsZXRlQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLXN1Ym1pdC1idXR0b25cIik7XG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG4vKmNyZWF0ZSBpbnN0YW5jZXMgb2YgdGhlIGNsYXNzZXMgKi9cblxuLy9BcGkgaW5zdGFuY2VcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODE2YTU5NTItMGI0MC00MzY1LWI1MjQtOWUxODg1OWI2ZDM3XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy9Vc2VySW5mbyBpbnN0YW5jZVxuY29uc3QgdXNlckRhdGEgPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZVNlbGVjdG9yOiBcIiNlZGl0LWNhcmQtbmFtZVwiLFxuICB1c2VyRGVzY3JpcHRpb25TZWxlY3RvcjogXCIjZWRpdC1jYXJkLWRlc2NyaXB0aW9uXCIsXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG4vL1BvcHVwV2l0aEltYWdlIGluc3RhbmNlXG5jb25zdCBjYXJkUHJldmlldyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1wcmV2aWV3XCIpO1xuXG4vL0NhcmQgaW5zdGFuY2VcbmNvbnN0IGNyZWF0ZU5ld0NhcmQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAge1xuICAgICAgZGF0YSxcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKGltZ0RhdGEpID0+IHtcbiAgICAgICAgY2FyZFByZXZpZXcub3BlbihpbWdEYXRhKVxuICAgICAgfSxcbiAgICAgIGhhbmRsZUxpa2VzQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKGNhcmQuX2lzTGlrZWQoKSkge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgIC5yZW1vdmVMaWtlKGRhdGEuX2lkKVxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiBjYXJkLl91cGRhdGVMaWtlKGRhdGEpKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBsaWtpbmcgY2FyZDogJHtlcnJ9YCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBpXG4gICAgICAgICAgLmFkZExpa2UoZGF0YS5faWQpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IGNhcmQuX3VwZGF0ZUxpa2UoZGF0YSkpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYEVycm9yIGxpa2luZyBjYXJkOiAke2Vycn1gKSlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhbmRsZVRyYXNoQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oZGF0YS5faWQpO1xuICAgICAgfSxcbiAgICAgIHVzZXJJZDogdXNlckRhdGEuZ2V0VXNlcklkKCksXG4gICAgfSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCJcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufTtcblxuLy9zZWN0aW9uIGluc3RhbmNlXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IG51bGwsXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbik7XG5cbi8vU2VjdGlvbiBpbnN0YW5jZVxuLy8gUHJvbWlzZS5hbGwoW10pLlxuLy8gICB0aGVuKC8qIGhlcmUgeW91IGRvIGFsbCBuZWNlc3NhcnkgY2FsY3VsYXRpb25zICovKVxuLy8gICAudGhlbigvKiBoZXJlIHlvdSByZW5kZXIgd2hhdCB5b3UgbmVlZCAqLylcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRMaXN0KCldKVxuLnRoZW4oKFt1c2VyaW5mbywgY2FyZHNdKSA9PiB7XG4gIHVzZXJEYXRhLnNldFVzZXJJbmZvKHVzZXJpbmZvKTtcbiAgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICB7XG4gICAgICBpdGVtczogY2FyZHMsXG4gICAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVOZXdDYXJkKGRhdGEpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIi5lbGVtZW50c1wiXG4gICk7XG5cbiAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMpO1xufSlcbi5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIGluaXRpYWwgaW5mbzogJHtlcnJ9YCkpO1xuXG5cbi8vUG9wdXBXaXRoRm9ybSBpbnN0YW5jZSBmb3IgZWRpdCBwcm9maWxlIHBvcHVwXG5jb25zdCBwcm9maWxlRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LXByb2ZpbGUtcG9wdXBcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI2VkaXQtcHJvZmlsZS1wb3B1cFwiLCB0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5wYXRjaFVzZXJJbmZvKGRhdGEpXG4gICAgICAudGhlbigocHJvZmlsZURhdGEpID0+IHtcbiAgICAgICAgdXNlckRhdGEuc2V0VXNlckluZm8ocHJvZmlsZURhdGEpO1xuICAgICAgICBwcm9maWxlRWRpdFBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBlZGl0IHByb2ZpbGU6ICR7ZXJyfWApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcmVuZGVyTG9hZGluZyhcIiNlZGl0LXByb2ZpbGUtcG9wdXBcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pXG5cbi8vRWRpdCBwcm9maWxlIGF2YXRhciBwb3B1cCB3aW5kb3dcbmNvbnN0IHByb2ZpbGVBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZS1hdmF0YXItcG9wdXBcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI3Byb2ZpbGUtYXZhdGFyLXBvcHVwXCIsIHRydWUpO1xuICAgIGFwaVxuICAgICAgLnNldFVzZXJBdmF0YXIoZGF0YSlcbiAgICAgIC50aGVuKChhdmF0YXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXJEYXRhLnNldEF2YXRhcihhdmF0YXJEYXRhKTtcbiAgICAgICAgcHJvZmlsZUF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICByZW5kZXJMb2FkaW5nKFwiI3Byb2ZpbGUtYXZhdGFyLXBvcHVwXCIpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuLy9DcmVhdGUgbmV3IGNhcmQgcG9wdXBcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjYWRkLWNhcmQtcG9wdXBcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI2FkZC1jYXJkLXBvcHVwXCIsIHRydWUpO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQoZGF0YSlcbiAgICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoY2FyZERhdGEpKTtcbiAgICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBuZXcgY2FyZDogJHtlcnJ9YClcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoXCIjYWRkLWNhcmQtcG9wdXBcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG4vL0RlbGV0ZSBjYXJkIGluc3RhbmNlIHBvcHVwXG5jb25zdCBkZWxldGVDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI2RlbGV0ZS1jYXJkLXBvcHVwXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChjYXJkSWQsIGNhcmQpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI2RlbGV0ZS1jYXJkLXBvcHVwXCIsIHRydWUpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZSgpO1xuICAgICAgICBkZWxldGVDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIGRlbGV0aW5nIGNhcmQ6ICR7ZXJyfWApXG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICByZW5kZXJMb2FkaW5nKFwiI2RlbGV0ZS1jYXJkLXBvcHVwXCIpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuLy8vRm9ybVZhbGlkYXRvciBpbnN0YW5jZVxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1mb3JtXCIpXG4pO1xuXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtZm9ybVwiKVxuKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXItZm9ybVwiKVxuKTtcblxuLypldmVudCBsaXN0ZW5lcnMgZm9yIHBhZ2UqL1xuLy9lZGl0IHByb2ZpbGUgb3BlbiBwb3B1cFxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgY2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVFZGl0UG9wdXAub3BlbigpO1xufSk7XG5cbi8vIGVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4vLyAgIGNvbnN0IGN1cnJlbnRVc2VyaW5mbyA9IHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XG4vLyAgIGRvY3VtZW50XG4vLyAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKVxuLy8gICAgIC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjdXJyZW50VXNlcmluZm9bXCJuYW1lXCJdKTtcbi8vICAgZG9jdW1lbnRcbi8vICAgICAucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvbi1pbnB1dFwiKVxuLy8gICAgIC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjdXJyZW50VXNlcmluZm9bXCJhYm91dFwiXSk7XG5cbi8vICAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKGN1cnJlbnRVc2VyaW5mbyk7XG4vLyB9KTtcblxuLy9uZXcgY2FyZCBvcGVuIHBvcHVwXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIGNhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBuZXdDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbi8vZWRpdCBwcm9maWxlIGltYWdlICBwb3B1cFxucHJvZmlsZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlQXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbi8vZGVsZXRlIGNhcmQgcG9wdXBcbmRlbGV0ZUNhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL2luaXRpYWxpemUgYWxsIG15IGluc3RhbmNlc1xuY2FyZFByZXZpZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5cbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRUZXh0RXJyb3IiLCJpbnB1dFZpc2libGVFcnJvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImNhcmRTZWN0aW9uIiwicmVuZGVyTG9hZGluZyIsInBvcHVwU2VsZWN0b3IiLCJpc0xvYWRpbmciLCJsb2FkaW5nQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFsbCIsImFwaSIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRMaXN0IiwiZmV0Y2giLCJ0aGVuIiwiX2hhbmRsZVNlcnZlclJlc3BvbnNlIiwibmFtZSIsImFib3V0IiwiZGVzY3JpcHRpb24iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxpbmsiLCJjYXJkSWQiLCJhdmF0YXIiLCJTZWN0aW9uIiwiY29udGFpbmVyc2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImZvckVhY2giLCJlbGVtZW50IiwicHJlcGVuZCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZXNDbGljayIsImhhbmRsZVRyYXNoQ2xpY2siLCJfdGV4dCIsIl9saW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiX293bmVySWQiLCJvd25lcklkIiwiX3VzZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZXNDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3RyYXNoQnV0dG9uIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwidGV4dCIsInRvZ2dsZSIsIl91cGRhdGVMaWtlIiwiX2dldFRlbXBsYXRlIiwiY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2xpa2VDb3VudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9oaWRlVHJhc2hCdXR0b24iLCJsZW5ndGgiLCJhZGQiLCJQb3B1cCIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2VFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckRlc2NyaXB0aW9uU2VsZWN0b3IiLCJ1c2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWVFbGVtZW50IiwiX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQiLCJfdXNlckF2YXRhckVsZW1lbnQiLCJ0cmltIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWwiLCJfaW5wdXRTZWxlY3RvciIsIl9pbnB1dFRleHRFcnJvciIsIl9pbnB1dFZpc2libGVFcnJvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2Zvcm1FbCIsImlucHV0RWwiLCJlcnJvckRpc3BsYXkiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZU1lc3NhZ2VFcnJvciIsIl9yZW1vdmVJbnB1dEVycm9yIiwiX3Nob3dNZXNzYWdlRXJyb3IiLCJfYWRkSW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWwiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJwcm9maWxlQXZhdGFyQnV0dG9uIiwiZGVsZXRlQ2FyZEJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJhdXRob3JpemF0aW9uIiwidXNlckRhdGEiLCJjYXJkUHJldmlldyIsImNyZWF0ZU5ld0NhcmQiLCJjYXJkIiwiaW1nRGF0YSIsIm9wZW4iLCJfaXNMaWtlZCIsInJlbW92ZUxpa2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImFkZExpa2UiLCJkZWxldGVDYXJkUG9wdXAiLCJnZXRVc2VySWQiLCJnZXRWaWV3IiwiYWRkSXRlbSIsInVzZXJpbmZvIiwiY2FyZHMiLCJzZXRVc2VySW5mbyIsInJlbmRlckl0ZW1zIiwicHJvZmlsZUVkaXRQb3B1cCIsInBhdGNoVXNlckluZm8iLCJwcm9maWxlRGF0YSIsImZpbmFsbHkiLCJwcm9maWxlQXZhdGFyUG9wdXAiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyRGF0YSIsInNldEF2YXRhciIsIm5ld0NhcmRQb3B1cCIsImFkZENhcmQiLCJjYXJkRGF0YSIsImRlbGV0ZUNhcmQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInNldEV2ZW50TGlzdGVuZXJzIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=